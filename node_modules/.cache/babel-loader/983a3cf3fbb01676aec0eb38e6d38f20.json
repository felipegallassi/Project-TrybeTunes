{"ast":null,"code":"var _jsxFileName = \"/home/felipegallassi/ProjectTrybeTunes/sd-019-b-project-trybetunes/src/pages/Search.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../Components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../Components/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchName: '',\n      btnDisabled: true,\n      albuns: [],\n      isLoading: false,\n      inputSearch: ''\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handlechange = this.handlechange.bind(this);\n  }\n\n  handlechange(_ref) {\n    let {\n      target\n    } = _ref;\n    const MIN_LENGTH_VALUE = 2;\n    this.setState({\n      [target.name]: target.value\n    }, () => {\n      const {\n        searchName\n      } = this.state;\n      const minNameValid = searchName.length;\n      this.setState({\n        btnDisabled: true\n      });\n\n      if (minNameValid >= MIN_LENGTH_VALUE) {\n        this.setState({\n          btnDisabled: false\n        });\n      }\n    });\n  }\n\n  async handleClick() {\n    this.setState({\n      isLoading: true\n    });\n    const {\n      searchName\n    } = this.state;\n    this.setState({\n      inputSearch: searchName,\n      btnDisabled: true,\n      isLoading: false\n    }, async () => {\n      const result = await searchAlbumsAPI(searchName);\n      this.setState({\n        albuns: result,\n        searchName: ''\n      });\n    });\n  }\n\n  render() {\n    const {\n      searchName,\n      btnDisabled,\n      isLoading,\n      albuns,\n      inputSearch\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          \"data-testid\": \"search-artist-input\",\n          type: \"text\",\n          name: \"searchName\",\n          id: \"searchName\",\n          placeholder: \"Nome do Artista\",\n          value: searchName,\n          onChange: this.handlechange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"search-artist-button\",\n          type: \"button\",\n          onClick: this.handleClick,\n          disabled: btnDisabled,\n          children: \"Pesquisar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 23\n      }, this), !isLoading && albuns.length === 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), !isLoading && albuns.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: `Resultado de álbuns de: ${inputSearch}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: albuns.map(album => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/album/${album.collectionId}`,\n              \"data-testid\": `link-to-album-${album.collectionId}`,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: album.artworkUrl100,\n                alt: `${album.collectionName} - ${album.artistName}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: album.collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 27\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: album.artistName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this)\n          }, album.collectionId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"sources":["/home/felipegallassi/ProjectTrybeTunes/sd-019-b-project-trybetunes/src/pages/Search.js"],"names":["React","Link","Header","searchAlbumsAPI","Loading","Search","Component","constructor","state","searchName","btnDisabled","albuns","isLoading","inputSearch","handleClick","bind","handlechange","target","MIN_LENGTH_VALUE","setState","name","value","minNameValid","length","result","render","map","album","collectionId","artworkUrl100","collectionName","artistName"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../Components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Loading from '../Components/Loading';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      searchName: '',\n      btnDisabled: true,\n      albuns: [],\n      isLoading: false,\n      inputSearch: '',\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.handlechange = this.handlechange.bind(this);\n  }\n\n  handlechange({ target }) {\n    const MIN_LENGTH_VALUE = 2;\n    this.setState({\n      [target.name]: target.value,\n    }, () => {\n      const { searchName } = this.state;\n      const minNameValid = searchName.length;\n      this.setState({\n        btnDisabled: true,\n      });\n      if (minNameValid >= MIN_LENGTH_VALUE) {\n        this.setState({\n          btnDisabled: false,\n        });\n      }\n    });\n  }\n\n  async handleClick() {\n    this.setState({\n      isLoading: true,\n    });\n    const { searchName } = this.state;\n    this.setState({\n      inputSearch: searchName,\n      btnDisabled: true,\n      isLoading: false,\n    }, async () => {\n      const result = await searchAlbumsAPI(searchName);\n      this.setState({\n        albuns: result,\n        searchName: '',\n      });\n    });\n  }\n\n  render() {\n    const { searchName, btnDisabled, isLoading, albuns, inputSearch } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n        <form>\n          <input\n            data-testid=\"search-artist-input\"\n            type=\"text\"\n            name=\"searchName\"\n            id=\"searchName\"\n            placeholder=\"Nome do Artista\"\n            value={ searchName }\n            onChange={ this.handlechange }\n          />\n          <button\n            data-testid=\"search-artist-button\"\n            type=\"button\"\n            onClick={ this.handleClick }\n            disabled={ btnDisabled }\n          >\n            Pesquisar\n          </button>\n        </form>\n        {isLoading && <Loading />}\n        {!isLoading && albuns.length === 0 && (\n          <h2>Nenhum álbum foi encontrado</h2>\n        )}\n        {!isLoading\n            && albuns.length !== 0\n              && (\n                <div>\n                  <h3>{`Resultado de álbuns de: ${inputSearch}`}</h3>\n                  <ul>\n                    {albuns.map((album) => (\n                      <li key={ album.collectionId }>\n                        <Link\n                          to={ `/album/${album.collectionId}` }\n                          data-testid={ `link-to-album-${album.collectionId}` }\n                        >\n                          <img\n                            src={ album.artworkUrl100 }\n                            alt={ `${album.collectionName} - ${album.artistName}` }\n                          />\n                          <p>{ album.collectionName }</p>\n                          <p>{ album.artistName }</p>\n                        </Link>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}